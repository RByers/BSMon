# BSMon
A quick-and-dirty weekend project for monitoring [Blu-Sentinel pool chemical controllers](https://www.evoqua.com/en/evoqua/products--services/disinfection-systems/disinfection-process-analyzers--controllers/blu-sentinel-se-chemical-controller/)

These controllers expose a basic web interface as well as a [modbus](https://en.wikipedia.org/wiki/Modbus) automation interface, with protocol documented [in the manual](https://epipreprod.evoqua.com/siteassets/documents/extranet/a_temp_ext_dis/blu-sentinel-se_w3t387175_wt.050.511.000.de.im.pdf). Unfortunately, neither interace is safe to expose to the Internet due to inadequate security. For example, after a user enters their password on physical or web interface, the device allows any new connection to modify the settings such as chemical dosing levels. A VPN can be used, but even then there is no facility for logging or receiving alerts.

This project is a tiny node.js server and web app front-end which is designed to be run on a local device (such as a Raspberry Pi) with direct access to the chemical controller. It polls the controller on a configurable interval and can send push notifications to web clients for any built-in alerts and whenever the dosing interval exceeds user-configurable values. It provides a very primitive UI showing all relevant raw data from the controller. All controller access is read-only and so no authentication is currently required.  If the server is exposed to the Internet, then anyone on the Internet can monitor the values (including system name) and subscribe to notifications. Since web push requires a secure context, a TLS certificate is required but development and testing can work over localhost without one. The server is only weakly hardened against denial-of-service attacks, but is otherwise probably secure from unauthorized access. The web app has been tested manually with current versions of Google Chrome and Apple Safari, but is likely to work with other modern browsers.

As a weekend hobby project with likely no (or few) other users, I have not bothtered to invest in good software engineering practices such as automated testing and penetration testing. Use at your own risk, it's not impossible that this package could somehow damage your controller or allow an attacker to alter your pool chemistry.